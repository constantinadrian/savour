{% extends "layout/base.html" %}
{% from "pages/macros.html" import display_recipes, display_form_search_recipe, subscribe_section %}

{% block content %}
    <!-- Landing section -->
    <section>
        {% for recipe in sugestion_recipe %}
            <a href="{{ url_for('recipe', recipe_id=recipe._id) }}" class="sugestion-recipe-link">
                <figure class="category-banner-section">
                    <img src="{{ recipe.image_url }}" class="recipes-img-baner" alt="Recipe Image" onerror="this.onerror=null;this.src='/static/img/pexels-chimene-gaspar-1464880.jpg';">
                    <div class="category-textbox">
                        <h1 class='section-title'>Our</h1>
                        <h1 class='section-title'>Suggestion</h1>
                    </div>
                </figure>
            </a>
        {% endfor %}
    </section>
    <!-- /.Landing section -->

    <!-- Recipes section -->
    <section class="recipes-section">
        <div class="container">
            <div class="recipes-section-row-title">
                <div class="col"><hr class="section-hr-left"></div>
                <div class="col-auto">
                    <h2 class="section-title">Recipes</h2>
                </div>
                <div class="col"><hr class="section-hr-right"></div>
            </div>

            {{ display_form_search_recipe() }}

            <div class="recipes-section-row-recipes">
                {% if recipes %}
                        {% for recipe in recipes %}
                            {{ display_recipes(recipe) }}
                        {% endfor %}
            </div>
                    {% if total > 1 %}
                        {{ pagination.info }}
                    {% endif %}   
                    {{ pagination.links }}
                {% else %}
                    <p>Recipes Not Found</p>
                {% endif %}
        </div>

    </section>
    <!-- /.Recipe section -->

    <!-- Subscribe section -->
        {{ subscribe_section() }}
    <!-- /.End Subscribe section -->
{% endblock %}